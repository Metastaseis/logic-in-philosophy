@tailwind base;
@tailwind components;
@tailwind utilities;

/* -------------------------------
   TYPOGRAPHY DEFAULTS (from before)
   ------------------------------- */
@layer base {
  body {
    @apply font-bauhaus font-medium antialiased;
  }
  h1, h2, h3 {
    @apply font-display font-bold;
  }
}

/* ================================
   BAUHAUS VISUAL SYSTEM (GLOBAL)
   ================================ */
@layer base {
  /* Museum off-white background + crisp text */
  html, body {
    background: #F5F5EF;
    color: #111;
  }

  /* Heading scale & rhythm */
  h1 { @apply text-5xl leading-tight; }
  h2 { @apply text-3xl leading-snug; }
  h3 { @apply text-2xl leading-snug; }

  /* English-only uppercase for headings (keeps HE/AR natural) */
  :lang(en) h1, :lang(en) h2, :lang(en) h3 {
    text-transform: uppercase;
    letter-spacing: 0.02em;
  }

  /* Accessible, brand-colored keyboard focus */
  :focus-visible {
    outline: 2px solid #d90000; /* bauRed */
    outline-offset: 2px;
  }
}

/* -------------------------------
   COMPONENT STYLES
   ------------------------------- */
@layer components {
  /* UI weight helpers */
  .ui { @apply font-semibold; }
  .ui-muted { @apply font-semibold opacity-80; }

  /* Bauhaus-style red underline for nav links (hover/active) */
  .nav-underline { position: relative; }
  .nav-underline::after {
    content: "";
    position: absolute;
    left: 0; right: 0; bottom: -2px;
    height: 2px; background: #d90000;
    transform: scaleX(0);
    transform-origin: left;
    transition: transform 180ms ease;
  }
  .nav-underline:hover::after,
  .nav-underline[aria-current="page"]::after {
    transform: scaleX(1);
  }

  /* Unified buttons */
  .btn { @apply ui inline-flex items-center justify-center px-5 py-2.5 rounded-bau transition; }
  .btn-primary { @apply bg-bauRed text-white hover:bg-red-700; }
  .btn-outline { @apply border border-black/20 text-black hover:bg-black/5; }
  .btn-ghost   { @apply text-black hover:bg-black/5; }

  /* Micro-transitions for all interactive elements */
  a, button {
    transition: color .15s ease, background-color .15s ease, transform .15s ease, opacity .15s ease;
  }

  /* Link-with-arrow helper + RTL arrow flip */
  .link-arrow { display: inline-flex; align-items: center; }
  .link-arrow:hover { opacity: .9; }
  .rtl-flip { transform: scaleX(1); }
  [dir="rtl"] .rtl-flip { transform: scaleX(-1); }
}

/* -------------------------------
   UTILITIES
   ------------------------------- */
@layer utilities {
  /* Brand color fallbacks to guarantee classes always exist */
  .bg-bauRed    { background-color: #d90000; }
  .bg-bauBlue   { background-color: #0055a4; }
  .bg-bauYellow { background-color: #ffb800; }

  .text-bauRed    { color: #d90000; }
  .text-bauBlue   { color: #0055a4; }
  .text-bauYellow { color: #ffb800; }

  .border-bauRed    { border-color: #d90000; }
  .border-bauBlue   { border-color: #0055a4; }
  .border-bauYellow { border-color: #ffb800; }

  /* Bauhaus diagonal overlay used in Hero/Promo */
  .hero-diagonal {
    background: linear-gradient(
      135deg,
      #d90000 0%,
      #d90000 60%,
      rgba(0,0,0,0) 60%,
      rgba(0,0,0,0) 100%
    );
    mix-blend-mode: multiply;
  }

  /* Section spacing helpers */
  .section { @apply py-16; }
  .section-tight { @apply py-10; }

  /* Geometric corners + modern shadow */
  .rounded-bau { border-radius: 10px; }
  .shadow-bau {
    box-shadow:
      0 10px 15px -15px rgb(0 0 0 / 0.25),
      0 4px 6px -4px rgb(0 0 0 / 0.20);
  }

  /* Archive masonry */
  .masonry { column-gap: 1rem; column-count: 1; }
  @media (min-width: 768px)  { .masonry { column-count: 2; } }
  @media (min-width: 1024px) { .masonry { column-count: 3; } }
  .masonry > img, .masonry > a {
    break-inside: avoid;
    margin-bottom: 1rem;
    width: 100%;
    border-radius: 0.75rem; /* rounded-xl */
    box-shadow:
      0 10px 15px -3px rgb(0 0 0 / 0.20),
      0 4px 6px -4px rgb(0 0 0 / 0.20);
  }

  /* Optional: debug grid overlay (toggle by adding .debug-grid to <body>) */
  .debug-grid {
    background-image:
      linear-gradient(to bottom, rgba(0,0,0,0.06) 1px, transparent 1px),
      linear-gradient(to right,  rgba(0,0,0,0.04) 1px, transparent 1px);
    background-size: 8px 8px, 8px 8px;
  }
}

@layer components {
  /* Sticky header scaffold + subtle shadow/border when scrolled */
  .header-sticky { position: sticky; top: 0; z-index: 50; }

  .header-scrolled {
    box-shadow:
      0 10px 15px -20px rgb(0 0 0 / 0.4), /* softer than shadow-bau */
      0 4px 6px -4px rgb(0 0 0 / 0.25);
    border-bottom: 1px solid rgba(0,0,0,.06);
  }
}

